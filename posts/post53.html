<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="../icons/logoTit.png">
    <link rel="stylesheet" href="../estilo.css">
    <title>UB Social</title>
</head>
<body>
<div class="container-fluid">


    <div class="row">
        <div class="col-sm-12">
            <nav class="navbar rounded-bottom fixed-top navbar-expand-lg navbar-light bg-light shadow">
                <div class="container-fluid">
                    <a class="navbar-brand" href="../index.html"><img src="../icons/logo.png" class="d-inline-block align-text-top" width="11pt"> UB Social</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
                            <li class="nav-item"><a class="nav-link" href="../sobre/sobre.html">Sobre</a></li>
                            <li class="nav-item"><a class="nav-link" href="../cursos.html">Cursos</a></li>
                            <li class="nav-item"><a class="nav-link" href="../livros/livros.html">Livros</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12 text-center" id="titulo">
            <h1>Projeto biblioteca fullstack Spring Boot e Vue.js</h1>
            <h6><strong>Criação de projeto de biblioteca fullstack Spring Boot e Vue.js</strong></h6>
            <a href="../index.html" class="btn btn-link text-decoration-none mb-3">Voltar</a>
        </div>

        <div class="col-sm-12">
            <h4>Material complementar:</h4>
            <ul>
                <li>Conteúdo no YouTube: <a href="https://youtube.com/playlist?list=PLnPZ9TE1Tj4ApOuc3PD_OZI_-heXqxBuW&si=5vZV06FTVOU4hB9v" target="_blank" class="text-decoration-none">Acesse</a></li>
                <li>Conteúdo no GitHub: <a href="https://github.com/mateusschwede/spring_boot/tree/main/biblioteca_fullstack" target="_blank" class="text-decoration-none">Acesse</a></li>
                <li>Curso com certificado na Workover Academy (Criar API REST Spring Boot com Kotlin): <a href="https://workover.com.br/cursos/1891" target="_blank" class="text-decoration-none">Acesse</a></li>
            </ul>

            <br><h4>Conceito:</h4>
            <p id="textoPost">Criar sistema web RESTful fullstack, com backend Spring Boot Kotlin (ORM hibernate JPA DAO) e frontend Vue.js TypeScript (vue router), com funções de CRUD (criar, listar, ver específico, editar e excluir) de livros.</p>

            <br><h4>Backend (Spring Boot):</h4>
            <ol>
                <li>Pré-requisitos:
                    <ul>
                        <li>JDK 21 (e path);</li>
                        <li>Gradle (e path);</li>
                        <li>MySQL;</li>
                        <li>Postman web e Postman desktop agent.</li>
                    </ul>
                </li>
                <li>Criar projeto Spring Boot:
                    <ul>
                        <li>Em <a href="https://start.spring.io" target="_blank" class="text-decoration-none">Spring Initializr</a>, selecione as dependências:
                            <ul>
                                <li>Project: Gradle - Kotlin</li>
                                <li>Language: Kotlin</li>
                                <li>Project Metadata
                                    <ul>
                                        <li>Group: ubsocial.com</li>
                                        <li>Artifact: biblioteca</li>
                                        <li>Name: biblioteca (igual no Artifact)</li>
                                        <li>Package name: ubsocial.com.biblioteca</li>
                                        <li>Java: versão do JDK instalado na máquina (21)</li>
                                    </ul>
                                </li>
                                <li>Dependencies:
                                    <ul>
                                        <li>Spring Web</li>
                                        <li>Spring Data JPA</li>
                                    </ul>
                                </li>
                                <li>Generate (projeto será gerado, abra-o no editor)</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>Criar banco de dados MySQL: CREATE DATABASE biblioteca;</li>
                <li>'build.gradle.kts', em 'dependencies', adicionar dependencies:
<small><pre><code>
implementation("org.springframework.boot:spring-boot-starter-data-jpa")
implementation("org.springframework.boot:spring-boot-starter-web")
implementation("com.fasterxml.jackson.module:jackson-module-kotlin")
implementation("org.springframework.boot:spring-boot-starter-validation")
implementation("org.jetbrains.kotlin:kotlin-reflect")
testImplementation("org.springframework.boot:spring-boot-starter-test")
testImplementation("org.jetbrains.kotlin:kotlin-test-junit5")
testRuntimeOnly("org.junit.platform:junit-platform-launcher")
runtimeOnly("com.mysql:mysql-connector-j")
</code></pre></small>
                </li>
                <li>'src/main/resources/application.properties':
<small><pre><code>
spring.application.name=biblioteca
spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=jdbc:mysql://localhost:3306/biblioteca
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jackson.serialization.fail-on-empty-beans=false
server.error.include-message=always
server.error.include-binding-errors=always
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
server.port=8080
</code></pre></small>
                </li>
                <li>Dentro do pacote principal do projeto (ubsocial.com.biblioteca), criar pacote "config": ficará ubsocial.com.biblioteca.config</li>
                <li>Dentro do pacote "config", criar classe WebConfig.kt para conexão com frontend Vue.js:
<small><pre><code>
package ubsocial.com.biblioteca.config
import org.springframework.context.annotation.Bean
import org.springframework.context.annotation.Configuration
import org.springframework.web.servlet.config.annotation.CorsRegistry
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer

@Configuration
class WebConfig &#123;

    @Bean
    fun corsConfigurer(): WebMvcConfigurer &#123;
        return object : WebMvcConfigurer &#123;
            override fun addCorsMappings(registry: CorsRegistry) &#123;
                registry.addMapping("/**")
                    .allowedOrigins("http://localhost:8081")
                    .allowedMethods("GET","POST","PUT","DELETE","OPTIONS")
            &#125;
        &#125;
    &#125;
&#125;
</code></pre></small>
                <li>Dentro do pacote principal do projeto (ubsocial.com.biblioteca), criar pacote "model": ficará ubsocial.com.biblioteca.model</li>
                <li>Dentro do pacote "model", criar pacote de entidades "entity": ficará model.entity</li>
                <li>Dentro do pacote "model.entity", criar Model (entidade) Livro.kt:
<small><pre><code>
package ubsocial.com.biblioteca.model.entity
import com.fasterxml.jackson.annotation.JsonFormat
import jakarta.persistence.*
import jakarta.validation.constraints.NotBlank
import jakarta.validation.constraints.NotNull
import jakarta.validation.constraints.Size
import java.time.LocalDate

@Entity
data class Livro(
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    val id: Long? = null,

    @field:NotBlank
    @field:Size(min = 1, max = 255, message = "Título precisa ter entre 1 e 255 caracteres")
    @Column(length = 255)
    val title: String = "",

    @field:NotBlank
    @field:Size(min = 1, max = 255, message = "Autor precisa ter entre 1 e 255 caracteres")
    @Column(length = 255)
    val author: String = "",

    @field:NotNull
    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = "yyyy-MM-dd")
    @Column(name = "published_date")
    val published_date: LocalDate = LocalDate.now(),

    @field:NotBlank
    @field:Size(min = 13, max = 13, message = "ISBN precisa ter 13 caracteres")
    @Column(unique = true)
    val isbn: String = "",

    val pages: Int = 0,

    @field:Size(min = 1, max = 255, message = "Capa/Gênero precisa ter entre 1 e 255 caracteres")
    @Column(length = 255)
    val cover: String? = null,

    @field:NotBlank
    @field:Size(min = 1, max = 255, message = "Idioma precisa ter entre 1 e 255 caracteres")
    @Column(length = 255)
    val language: String = ""
)
</code></pre></small>
                </li>
                <li>No pacote "model", criar pacote "repositories": ficará model.repositories</li>
                <li>No pacote "repositories", criar interface LivroRepository.kt:
<small><pre><code>
package ubsocial.com.biblioteca.model.repositories
import org.springframework.data.jpa.repository.JpaRepository
import ubsocial.com.biblioteca.model.entity.Livro

interface LivroRepository : JpaRepository&lt;Livro, Long&gt;
</code></pre></small>
                </li>
                <li>Pacote principal "ubsocial.com.biblioteca", criar pacote "controller"</li>
                <li>Pacote "controller", criar classe LivroResource.kt:
<small><pre><code>
package ubsocial.com.biblioteca.controller
import jakarta.validation.Valid
import org.springframework.http.HttpStatus
import org.springframework.http.ResponseEntity
import org.springframework.web.bind.annotation.*
import ubsocial.com.biblioteca.model.entity.Livro
import ubsocial.com.biblioteca.model.repositories.LivroRepository

@RestController
@RequestMapping("/books")
class LivroResource(private val livroRepository: LivroRepository) &#123;

    @GetMapping
    fun getAll(): List&lt;Livro&gt; = livroRepository.findAll()
    
    @GetMapping("/&#123;id&#125;")
    fun getById(@PathVariable id: Long): ResponseEntity&lt;Livro&gt; &#123;
        val livro = livroRepository.findById(id)
        return if (livro.isPresent) ResponseEntity.ok(livro.get())
        else ResponseEntity.notFound().build()
    &#125;

    @PostMapping
    fun create(@RequestBody @Valid livro: Livro): Livro = livroRepository.save(livro)

    @PutMapping("/&#123;id&#125;")
    fun update(@PathVariable id: Long, @RequestBody @Valid livro: Livro): ResponseEntity&lt;Livro&gt; &#123;
        val optional = livroRepository.findById(id)
        if (optional.isEmpty) return ResponseEntity.notFound().build()

        val updated = optional.get().copy(
            title = livro.title,
            author = livro.author,
            published_date = livro.published_date,
            isbn = livro.isbn,
            pages = livro.pages,
            cover = livro.cover,
            language = livro.language
        )
        return ResponseEntity.ok(livroRepository.save(updated))
    &#125;

    @DeleteMapping("/&#123;id&#125;")
    fun delete(@PathVariable id: Long): ResponseEntity&lt;Void&gt; &#123;
        return if (livroRepository.existsById(id)) &#123;
            livroRepository.deleteById(id)
            ResponseEntity.noContent().build()
        &#125; else &#123;
            ResponseEntity.notFound().build()
        &#125;
    &#125;
&#125;
</code></pre></small>
                </li>
                <li>Na mesma pasta de "gradlew", executar projeto: ".\gradlew bootRun"
                    <ul>
                        <li>Testar em: <a href="http://localhost:8080" class="text-decoration-none" target="_blank">http://localhost:8080</a></li>
                    </ul>
                </li>
                <li>Teste Postman (create):
                    <ul>
                        <li>URL: <a href="http://localhost:8080/books" class="text-decoration-none" target="_blank">http://localhost:8080/books</a></li>
                        <li>Método: POST</li>
                        <li>Body raw (JSON):
<small><pre><code>
&#123;
    "title": "O Senhor dos Anéis",
    "author": "J.R.R. Tolkien",
    "published_date": "1954-07-29",
    "isbn": "9780261102385",
    "pages": 1178,
    "cover": "Ficção",
    "language": "Português"
&#125;
</code></pre></small>
                        </li>
                        <li>Enviar (Send)</li>
                    </ul>
                </li>
                <li>Teste Postman (get):
                    <ul>
                        <li>URL: <a href="http://localhost:8080/books" class="text-decoration-none" target="_blank">http://localhost:8080/books</a></li>
                        <li>Método: GET</li>
                        <li>Enviar (Send)</li>
                    </ul>
                </li>
                <li>Teste Postman (get específico):
                    <ul>
                        <li>URL: <a href="http://localhost:8080/books/1" class="text-decoration-none" target="_blank">http://localhost:8080/books/1</a></li>
                        <li>Método: GET</li>
                        <li>Enviar (Send)</li>
                    </ul>
                </li>
                <li>Teste Postman (update):
                    <ul>
                        <li>URL: <a href="http://localhost:8080/books/1" class="text-decoration-none" target="_blank">http://localhost:8080/books/1</a></li>
                        <li>Método: PUT</li>
                        <li>Body raw (JSON):
                            <small><pre><code>
&#123;
    "title": "O Senhor dos Anéis - Edição Atualizada",
    "author": "J.R.R. Tolkien",
    "published_date": "1954-07-29",
    "isbn": "9780261102385",
    "pages": 1178,
    "cover": "Ficção",
    "language": "Português"
&#125;
</code></pre></small>
                        </li>
                        <li>Enviar (Send)</li>
                    </ul>
                </li>
                <li>Teste Postman (delete):
                    <ul>
                        <li>URL: <a href="http://localhost:8080/books/1" class="text-decoration-none" target="_blank">http://localhost:8080/books/1</a></li>
                        <li>Método: DELETE</li>
                        <li>Enviar (Send)</li>
                    </ul>
                </li>
            </ol>

            <br><h4>Frontend (Vue.js):</h4>
            <ol>
                <li>Pré-requisitos:
                    <ul>
                        <li>Instalar nodejs (npm);</li>
                        <li>Instalar Vue: npm install -g @vue/cli vue-router@4</li>
                    </ul>
                </li>
                <li>Comandos para criar projeto Vue.js:
<small><pre><code>
vue create biblioteca-frontend
-  Escolher features manualmente: Choose Vue version, Babel, Linter / Formatter e TypeScript
– Use class-style component syntax? No
– Use Babel alongside TypeScript? Yes
– Pick a linter / formatter config: Prettier
– Pick additional lint features: Lint on save
– Where do you prefer placing config files? In dedicated config files
– Save this for future project? No

cd biblioteca-frontend
npm i bootstrap jquery popper.js axios
npm install vue-router@4
npm run serve
</code></pre></small>
                </li>
                <li>src/main.ts:
<small><pre><code>
import &#123; createApp &#125; from "vue";
import App from "@/App.vue";
import router from "@/router";
import "bootstrap";
import "bootstrap/dist/css/bootstrap.min.css";
createApp(App).use(router).mount("#app");
</code></pre></small>
                </li>
                <li>src/http-common.ts:
<small><pre><code>
import axios, &#123; AxiosInstance &#125; from "axios";

const apiClient: AxiosInstance = axios.create(&#123;
    baseURL: "http://localhost:8080",
    headers: &#123;
        "Content-type": "application/json",
    &#125;,
&#125;);

export default apiClient;
</code></pre></small>
                </li>
                <li>src/shims-vue.d.ts:
<small><pre><code>
declare module "*.vue" &#123;
    import &#123; DefineComponent &#125; from "vue";
    const component: DefineComponent&lt;&#123;&#125;, &#123;&#125;, any&gt;;
    export default component;
&#125;
</code></pre></small>
                </li>
                <li>.eslintrc.js:
<small><pre><code>
module.exports = &#123;
    root: true,
    env: &#123;
        node: true,
    &#125;,
    extends: [
        "plugin:vue/vue3-essential",
        "eslint:recommended",
        "@vue/typescript/recommended",
        //"plugin:prettier/recommended",
    ],
    parserOptions: &#123;
        ecmaVersion: 2020,
    &#125;,
    rules: &#123;
        '@typescript-eslint/no-explicit-any': 'off',
        '@typescript-eslint/ban-types': 'off',
        '@typescript-eslint/no-unused-vars': 'warn',
    &#125;,
&#125;;
</code></pre></small>
                </li>
                <li>vue.config.js:
<small><pre><code>
module.exports = &#123;
    devServer: &#123;
        port: 8081,
    &#125;,
&#125;;
</code></pre></small>
                </li>
                <li>src/router.ts:
<small><pre><code>
import &#123; createWebHistory, createRouter &#125; from "vue-router";
import &#123; RouteRecordRaw &#125; from "vue-router";

const routes: Array&lt;RouteRecordRaw&gt; = [
    &#123;
        path: "/",
        alias: "/books",
        name: "books",
        component: () =&gt; import("./components/BooksList.vue"),
    &#125;,
    &#123;
        path: "/books/:id",
        name: "book-details",
        component: () =&gt; import("./components/BookDetails.vue"),
    &#125;,
    &#123;
        path: "/add",
        name: "add",
        component: () =&gt; import("./components/AddBook.vue"),
    &#125;,
];

const router = createRouter(&#123;
    history: createWebHistory(),
    routes,
&#125;);

export default router;
</code></pre></small>
                </li>
                <li>src/components/AddBook.vue:
<small><pre><code>
&lt;template&gt;
    &lt;h3&gt;Novo livro:&lt;/h3&gt;
    &lt;form @submit.prevent="saveBook"&gt;
        &lt;div class="form-group"&gt;
            &lt;input type="text" class="form-control" v-model="book.title" placeholder="Título" required id="title"
                name="title" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;input type="text" class="form-control" v-model="book.author" placeholder="Autor(a)" required id="author"
                name="author" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="published_date"&gt;Publicação:&lt;/label&gt;
            &lt;input type="date" class="form-control" v-model="book.published_date" required id="published_date"
                name="published_date" :max="new Date().toISOString().split('T')[0]" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;input type="text" class="form-control" v-model="book.isbn" placeholder="ISBN" required id="isbn"
                name="isbn" pattern="^\d&#123;13&#125;$" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;input type="number" class="form-control" v-model="book.pages" placeholder="Páginas" required id="pages"
                name="pages" min="1" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;input type="text" name="cover" class="form-control" v-model="book.cover" placeholder="Capa" required
                id="cover" /&gt;
        &lt;/div&gt;
        &lt;div class="form-group"&gt;
            &lt;input type="text" class="form-control" v-model="book.language" placeholder="Idioma" required id="language"
                name="language" /&gt;
        &lt;/div&gt;
        &lt;button type="button" class="btn btn-secondary" @click="$router.push('/books')"&gt;Cancelar&lt;/button&gt;
        &lt;button type="submit" class="btn btn-success"&gt;Adicionar&lt;/button&gt;
    &lt;/form&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import &#123; defineComponent &#125; from 'vue';
import BookDataService from '@/services/BookDataService';
import Book from '@/types/Book';
import ResponseData from '@/types/ResponseData';

export default defineComponent(&#123;
    name: 'add-book',
    data() &#123;
        return &#123;
            book: &#123;
                title: '',
                author: '',
                published_date: new Date(),
                isbn: '',
                pages: 0,
                cover: '',
                language: ''
            &#125; as Book,
        &#125;;
    &#125;,
    methods: &#123;
        saveBook() &#123;
            let data = &#123;
                title: this.book.title,
                author: this.book.author,
                published_date: this.book.published_date,
                isbn: this.book.isbn,
                pages: this.book.pages,
                cover: this.book.cover,
                language: this.book.language,
            &#125;;

            BookDataService.create(data)
                .then((response: ResponseData) =&gt; &#123;
                    this.book.id = response.data.id;
                    this.$router.push(&#123; name: "books" &#125;);
                &#125;)
                .catch((e: Error) =&gt; &#123;
                    console.error(e);
                &#125;);
        &#125;,
    &#125;,
&#125;);
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;
</code></pre></small>
                </li>
                <li>src/components/BookDetails.vue:
<small><pre><code>
&lt;template&gt;
    &lt;div v-if="currentBook.id"&gt;
        &lt;h4&gt;Livro &#123;&#123; currentBook.id &#125;&#125; - &#123;&#123; currentBook.title &#125;&#125;&lt;/h4&gt;
        &lt;form @submit.prevent="updateBook"&gt;
            &lt;div class="form-group"&gt;
                &lt;input type="text" class="form-control" v-model="currentBook.title" placeholder="Título" required
                    id="title" name="title" /&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;input type="text" class="form-control" v-model="currentBook.author" placeholder="Autor(a)" required
                    id="author" name="author" /&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;label for="published_date"&gt;Publicação:&lt;/label&gt;
                &lt;input type="date" class="form-control" v-model="currentBook.published_date" required
                    id="published_date" name="published_date" :max="new Date().toISOString().split('T')[0]" /&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;input type="text" class="form-control" v-model="currentBook.isbn" placeholder="ISBN" required id="isbn"
                    name="isbn" pattern="^\d&#123;13&#125;$" /&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;input type="number" class="form-control" v-model="currentBook.pages" placeholder="Páginas" required
                    id="pages" name="pages" min="1" /&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;input type="text" name="cover" class="form-control" v-model="currentBook.cover" placeholder="Capa"
                    required id="cover" /&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;input type="text" class="form-control" v-model="currentBook.language" placeholder="Idioma" required
                    id="language" name="language" /&gt;
            &lt;/div&gt;
            &lt;button type="button" class="btn btn-secondary" @click="$router.push('/books')"&gt;Cancelar&lt;/button&gt;
            &lt;button type="submit" class="btn btn-warning"&gt;Confirmar&lt;/button&gt;
        &lt;/form&gt;
        &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import &#123; defineComponent &#125; from 'vue';
import BookDataService from '@/services/BookDataService';
import Book from '@/types/Book';
import ResponseData from '@/types/ResponseData';

export default defineComponent(&#123;
    name: 'bookDetails',
    data() &#123;
        return &#123;
            currentBook: &#123;&#125; as Book,
            message: "",
        &#125;;
    &#125;,
    methods: &#123;
        getBook(id: any) &#123;
            BookDataService.get(id)
                .then((response: ResponseData) =&gt; &#123;
                    this.currentBook = response.data;
                &#125;)
                .catch((e: Error) =&gt; &#123;
                    console.error(e);
                &#125;);
        &#125;,
        updateBook() &#123;
            BookDataService.update(this.currentBook.id, this.currentBook)
                .then((response: ResponseData) =&gt; &#123;
                    this.$router.push(&#123; name: "books" &#125;);
                &#125;)
                .catch((e: Error) =&gt; &#123;
                    console.error(e);
                    this.message = "Erro ao atualizar o livro: " + e.message;
                &#125;);
        &#125;,
        deleteBook(id: number) &#123;
            BookDataService.delete(this.currentBook.id)
                .then((response: ResponseData) =&gt; &#123;
                    console.log(response.data);
                    this.$router.push(&#123; name: "books" &#125;);
                &#125;)
                .catch((e: Error) =&gt; &#123;
                    console.error(e);
                &#125;);
        &#125;,
    &#125;,
    mounted() &#123;
        this.message = "";
        this.getBook(this.$route.params.id);
    &#125;,
&#125;);
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;
</code></pre></small>
                </li>
                <li>src/components/BooksList.vue:
<small><pre><code>
&lt;template&gt;
    &lt;h4&gt;Lista de livros:&lt;/h4&gt;

    &lt;input type="text" class="form-control mb-3" placeholder="Pesquisar" v-model="searchTitle" /&gt;

    &lt;ul&gt;
        &lt;li :class="&#123; active: index === currentIndex &#125;" v-for="(book, index) in filteredBooks" :key="book.id"&gt;
            &#123;&#123; book.title &#125;&#125;
            &lt;button class="btn btn-primary btn-sm" @click="setActiveBook(book, index)"&gt;Ver&lt;/button&gt;
            &lt;router-link :to="'/books/' + book.id" class="btn btn-warning btn-sm"&gt;Editar&lt;/router-link&gt;
            &lt;button class="btn btn-danger btn-sm" @click="deleteBook(book.id)"&gt;Excluir&lt;/button&gt;
        &lt;/li&gt;
    &lt;/ul&gt;

    &lt;div v-if="currentBook.id"&gt;
        &lt;h4&gt;Livro &#123;&#123; currentBook.id &#125;&#125;&lt;/h4&gt;
        &lt;p&gt;Título: &#123;&#123; currentBook.title &#125;&#125;&lt;/p&gt;
        &lt;p&gt;Autor(a): &#123;&#123; currentBook.author &#125;&#125;&lt;/p&gt;
        &lt;p&gt;Publicação: &#123;&#123; currentBook.published_date &#125;&#125;&lt;/p&gt;
        &lt;p&gt;ISBN: &#123;&#123; currentBook.isbn &#125;&#125;&lt;/p&gt;
        &lt;p&gt;Páginas: &#123;&#123; currentBook.pages &#125;&#125;&lt;/p&gt;
        &lt;p&gt;Capa: &#123;&#123; currentBook.cover &#125;&#125;&lt;/p&gt;
        &lt;p&gt;Idioma: &#123;&#123; currentBook.language &#125;&#125;&lt;/p&gt;
        &lt;router-link :to="'/books/' + currentBook.id" class="btn btn-warning btn-sm"&gt;Editar&lt;/router-link&gt;
        &lt;button @click="deleteBook(currentBook.id)" class="btn btn-danger btn-sm"&gt;Excluir&lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import &#123; defineComponent &#125; from 'vue';
import BookDataService from '@/services/BookDataService';
import Book from '@/types/Book';
import ResponseData from '@/types/ResponseData';

export default defineComponent(&#123;
    name: 'books-list',
    data() &#123;
        return &#123;
            books: [] as Book[],
            currentBook: &#123;&#125; as Book,
            currentIndex: -1,
            searchTitle: "",
        &#125;;
    &#125;,
    computed: &#123;
        filteredBooks(): Book[] &#123;
            return this.books.filter(book =&gt;
                book.title.toLowerCase().includes(this.searchTitle.toLowerCase())
            );
        &#125;,
    &#125;,
    methods: &#123;
        retrieveBooks() &#123;
            BookDataService.getAll()
                .then((response: ResponseData) =&gt; &#123;
                    this.books = response.data;
                &#125;)
                .catch((e: Error) =&gt; &#123;
                    console.error(e);
                &#125;);
        &#125;,
        refreshList() &#123;
            this.retrieveBooks();
            this.currentBook = &#123;&#125; as Book;
            this.currentIndex = -1;
        &#125;,
        setActiveBook(book: Book, index = -1) &#123;
            this.currentBook = book;
            this.currentIndex = index;
        &#125;,
        deleteBook(id: number) &#123;
            BookDataService.delete(id)
                .then((response: ResponseData) =&gt; &#123;
                    this.refreshList();
                &#125;)
                .catch((e: Error) =&gt; &#123;
                    console.error(e);
                &#125;);
        &#125;,
    &#125;,
    mounted() &#123;
        this.retrieveBooks();
    &#125;,
&#125;);
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;
</code></pre></small>
                </li>
                <li>src/services/BookDataService.ts:
<small><pre><code>
import http from "@/http-common";
import Book from "@/types/Book";
import ResponseData from "@/types/ResponseData";

class BookDataService &#123;
    getAll(): Promise&lt;ResponseData&gt; &#123;
        return http.get("/books");
    &#125;

    get(id: number): Promise&lt;ResponseData&gt; &#123;
        return http.get(`/books/$&#123;id&#125;`);
    &#125;

    create(data: Partial&lt;Book&gt;): Promise&lt;ResponseData&gt; &#123;
        return http.post("/books", data);
    &#125;

    update(id: number, data: Partial&lt;Book&gt;): Promise&lt;ResponseData&gt; &#123;
        return http.put(`/books/$&#123;id&#125;`, data);
    &#125;

    delete(id: number): Promise&lt;ResponseData&gt; &#123;
        return http.delete(`/books/$&#123;id&#125;`);
    &#125;
&#125;

export default new BookDataService();
</code></pre></small>
                </li>
                <li>src/types/Book.ts:
<small><pre><code>
export default interface Book &#123;
    id: number;
    title: string;
    author: string;
    published_date: Date;
    isbn: string;
    pages: number;
    cover: string;
    language: string;
&#125;
</code></pre></small>
                </li>
                <li>src/types/ResponseData.ts:
<small><pre><code>
export default interface ResponseData&lt;T = any&gt; &#123;
    data: T;
&#125;
</code></pre></small>
                </li>
                <li>src/App.vue:
<small><pre><code>
&lt;template&gt;
    &lt;div id="app"&gt;
        &lt;h1&gt;Livraria UB Social&lt;/h1&gt;
        &lt;router-link to="/" class="btn btn-primary"&gt;Home&lt;/router-link&gt;
        &lt;router-link to="/add" class="btn btn-success"&gt;Adicionar livro&lt;/router-link&gt;
        &lt;router-view /&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import &#123; defineComponent &#125; from 'vue';

export default defineComponent(&#123;
    name: 'App',
&#125;);
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;
</code></pre></small>
                </li>
            </ol>

            <br><h4>Integração do sistema:</h4>
            <p id="textoPost">Integrar (juntar) backend Spring com frontend Vue.js, para tornar sistema unificado.</p>
            <ol>
                <li>Pasta do projeto backend Spring Boot, executar servidor Gradle: .\gradlew bootRun
                    <ul>
                        <li>Acessar API back-end (Spring Boot): <a href="http://localhost:8080/books" class="text-decoration-none" target="_blank">http://localhost:8080/books</a></li>
                    </ul>
                </li>
                <li>Pasta do projeto frontend Vue.js, executar servidor Vue.js: npm run serve
                    <ul>
                        <li>Acessar front-end (vuejs): <a href="http://localhost:8081" class="text-decoration-none" target="_blank">http://localhost:8081</a></li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>


<!--Rodapé-->
<div class="row">
    <div class="col-sm-12 text-center bg-black text-light pt-4 pb-3">
        <p>Elaborado por Mateus Schwede<br><small class="text-muted">ubsocial.github.io</small></p>
    </div>
</div>

</div>
</body>
</html>